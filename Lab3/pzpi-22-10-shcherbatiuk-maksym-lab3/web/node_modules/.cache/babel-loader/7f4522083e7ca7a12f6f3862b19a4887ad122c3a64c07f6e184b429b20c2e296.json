{"ast":null,"code":"var _jsxFileName = \"D:\\\\Program Files\\\\WebstormProjects\\\\soil_scout\\\\web\\\\src\\\\utils\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PrivateRoute({\n  children\n}) {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const token = Cookies.get(\"auth_token\"); // Отримуємо токен з куків\n    if (token) {\n      setLoading(false); // Якщо токен є, припиняємо завантаження\n    } else {\n      setLoading(false); // Якщо токену немає, припиняємо завантаження\n    }\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this); // Показуємо індикатор завантаження\n  }\n\n  // Якщо токен відсутній або користувач не залогінений, перенаправляємо на логін\n  if (!(user !== null && user !== void 0 && user.token)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 16\n    }, this);\n  }\n  return children;\n}\n_s(PrivateRoute, \"4mt1jDoDt0h52XCxQdiEl89i/LM=\");\n_c = PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["useContext","useEffect","useState","Navigate","UserContext","Cookies","jsxDEV","_jsxDEV","PrivateRoute","children","_s","user","loading","setLoading","token","get","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["D:/Program Files/WebstormProjects/soil_scout/web/src/utils/PrivateRoute.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { UserContext } from \"../contexts/UserContext\";\r\nimport Cookies from 'js-cookie';\r\n\r\nexport default function PrivateRoute({ children }) {\r\n    const { user } = useContext(UserContext);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const token = Cookies.get(\"auth_token\");  // Отримуємо токен з куків\r\n        if (token) {\r\n            setLoading(false);  // Якщо токен є, припиняємо завантаження\r\n        } else {\r\n            setLoading(false);  // Якщо токену немає, припиняємо завантаження\r\n        }\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;  // Показуємо індикатор завантаження\r\n    }\r\n\r\n    // Якщо токен відсутній або користувач не залогінений, перенаправляємо на логін\r\n    if (!user?.token) {\r\n        return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    return children;\r\n}\r\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,eAAe,SAASC,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC/C,MAAM;IAAEC;EAAK,CAAC,GAAGX,UAAU,CAACI,WAAW,CAAC;EACxC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACZ,MAAMa,KAAK,GAAGT,OAAO,CAACU,GAAG,CAAC,YAAY,CAAC,CAAC,CAAE;IAC1C,IAAID,KAAK,EAAE;MACPD,UAAU,CAAC,KAAK,CAAC,CAAC,CAAE;IACxB,CAAC,MAAM;MACHA,UAAU,CAAC,KAAK,CAAC,CAAC,CAAE;IACxB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE;IACT,oBAAOL,OAAA;MAAAE,QAAA,EAAK;IAAU;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,CAAC,CAAE;EACnC;;EAEA;EACA,IAAI,EAACR,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEG,KAAK,GAAE;IACd,oBAAOP,OAAA,CAACJ,QAAQ;MAACiB,EAAE,EAAC;IAAQ;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACnC;EAEA,OAAOV,QAAQ;AACnB;AAACC,EAAA,CAvBuBF,YAAY;AAAAa,EAAA,GAAZb,YAAY;AAAA,IAAAa,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}