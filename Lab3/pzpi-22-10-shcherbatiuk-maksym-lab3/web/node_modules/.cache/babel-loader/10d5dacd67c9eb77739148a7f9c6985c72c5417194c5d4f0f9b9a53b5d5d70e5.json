{"ast":null,"code":"var _jsxFileName = \"D:\\\\Program Files\\\\WebstormProjects\\\\soil_scout\\\\web\\\\src\\\\components\\\\MapPolygonPicker.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '100%',\n  height: '500px'\n};\nconst center = {\n  lat: 48.3794,\n  // Україна, можеш змінити на координати поля\n  lng: 31.1656\n};\nconst MapWithCoordinatesInput = () => {\n  _s();\n  const [coords, setCoords] = useState([]);\n  const [manualCoords, setManualCoords] = useState('');\n  const handleClick = useCallback(event => {\n    const newCoords = {\n      lat: event.latLng.lat(),\n      lng: event.latLng.lng()\n    };\n\n    // Додаємо нову точку в масив\n    setCoords(prev => {\n      const updatedCoords = [...prev, newCoords];\n      // Форматуємо координати у вигляді тексту для textarea\n      const coordsText = updatedCoords.map(point => `[${point.lat}, ${point.lng}]`).join(',\\n');\n      setManualCoords(coordsText);\n      return updatedCoords;\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: \"YOUR_GOOGLE_MAPS_API_KEY\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: center,\n        zoom: 6,\n        onClick: handleClick,\n        children: coords.map((coord, index) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: coord\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"font-semibold mb-2\",\n        children: \"\\u0410\\u0431\\u043E \\u0432\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043A\\u043E\\u043E\\u0440\\u0434\\u0438\\u043D\\u0430\\u0442\\u0438 \\u0442\\u0443\\u0442:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"6\",\n        value: manualCoords,\n        onChange: e => setManualCoords(e.target.value),\n        className: \"w-full border border-gray-300 p-2 rounded-lg font-mono text-sm\",\n        placeholder: `[40.7484, -73.9857],\\n[40.7488, -73.9855],\\n[40.7486, -73.9842],\\n[40.7482, -73.9844],\\n[40.7484, -73.9857]`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-2\",\n        children: [\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043A\\u043E\\u043E\\u0440\\u0434\\u0438\\u043D\\u0430\\u0442\\u0438 \\u0443 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0456: \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"[\\u0448\\u0438\\u0440\\u043E\\u0442\\u0430, \\u0434\\u043E\\u0432\\u0433\\u043E\\u0442\\u0430]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 51\n        }, this), \", \\u043A\\u043E\\u0436\\u043D\\u0430 \\u043F\\u0430\\u0440\\u0430 \\u0437 \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u0440\\u044F\\u0434\\u043A\\u0430. \\u041C\\u0430\\u0454 \\u0443\\u0442\\u0432\\u043E\\u0440\\u044E\\u0432\\u0430\\u0442\\u0438 \\u0437\\u0430\\u043C\\u043A\\u043D\\u0435\\u043D\\u0438\\u0439 \\u043F\\u043E\\u043B\\u0456\\u0433\\u043E\\u043D.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n_s(MapWithCoordinatesInput, \"CpddSEhZKNSGFo7I4MaEYU4XCm8=\");\n_c = MapWithCoordinatesInput;\nexport default MapWithCoordinatesInput;\nvar _c;\n$RefreshReg$(_c, \"MapWithCoordinatesInput\");","map":{"version":3,"names":["React","useState","useCallback","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","containerStyle","width","height","center","lat","lng","MapWithCoordinatesInput","_s","coords","setCoords","manualCoords","setManualCoords","handleClick","event","newCoords","latLng","prev","updatedCoords","coordsText","map","point","join","children","googleMapsApiKey","mapContainerStyle","zoom","onClick","coord","index","position","fileName","_jsxFileName","lineNumber","columnNumber","className","rows","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["D:/Program Files/WebstormProjects/soil_scout/web/src/components/MapPolygonPicker.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst containerStyle = {\r\n    width: '100%',\r\n    height: '500px',\r\n};\r\n\r\nconst center = {\r\n    lat: 48.3794, // Україна, можеш змінити на координати поля\r\n    lng: 31.1656,\r\n};\r\n\r\nconst MapWithCoordinatesInput = () => {\r\n    const [coords, setCoords] = useState([]);\r\n    const [manualCoords, setManualCoords] = useState('');\r\n\r\n    const handleClick = useCallback((event) => {\r\n        const newCoords = {\r\n            lat: event.latLng.lat(),\r\n            lng: event.latLng.lng(),\r\n        };\r\n\r\n        // Додаємо нову точку в масив\r\n        setCoords((prev) => {\r\n            const updatedCoords = [...prev, newCoords];\r\n            // Форматуємо координати у вигляді тексту для textarea\r\n            const coordsText = updatedCoords\r\n                .map((point) => `[${point.lat}, ${point.lng}]`)\r\n                .join(',\\n');\r\n            setManualCoords(coordsText);\r\n            return updatedCoords;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <LoadScript googleMapsApiKey=\"YOUR_GOOGLE_MAPS_API_KEY\">\r\n                <GoogleMap\r\n                    mapContainerStyle={containerStyle}\r\n                    center={center}\r\n                    zoom={6}\r\n                    onClick={handleClick}\r\n                >\r\n                    {coords.map((coord, index) => (\r\n                        <Marker key={index} position={coord} />\r\n                    ))}\r\n                </GoogleMap>\r\n            </LoadScript>\r\n\r\n            <div className=\"my-6\">\r\n                <h6 className=\"font-semibold mb-2\">Або введіть координати тут:</h6>\r\n                <textarea\r\n                    rows=\"6\"\r\n                    value={manualCoords}\r\n                    onChange={(e) => setManualCoords(e.target.value)}\r\n                    className=\"w-full border border-gray-300 p-2 rounded-lg font-mono text-sm\"\r\n                    placeholder={`[40.7484, -73.9857],\\n[40.7488, -73.9855],\\n[40.7486, -73.9842],\\n[40.7482, -73.9844],\\n[40.7484, -73.9857]`}\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-2\">\r\n                    Введіть координати у форматі: <code>[широта, довгота]</code>, кожна пара з нового рядка. Має утворювати замкнений полігон.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MapWithCoordinatesInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}