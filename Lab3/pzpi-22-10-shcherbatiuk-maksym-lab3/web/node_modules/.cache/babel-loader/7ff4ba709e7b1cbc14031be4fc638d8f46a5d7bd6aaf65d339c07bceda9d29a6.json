{"ast":null,"code":"var _jsxFileName = \"D:\\\\Program Files\\\\WebstormProjects\\\\soil_scout\\\\web\\\\src\\\\utils\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\n// src/components/PrivateRoute.jsx\nimport { useContext, useEffect, useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PrivateRoute({\n  children\n}) {\n  _s();\n  const {\n    user,\n    checkToken\n  } = useContext(UserContext);\n  const [loading, setLoading] = useState(true);\n\n  // Перевіряємо токен на кожен рендер\n  useEffect(() => {\n    if (checkToken()) {\n      setLoading(false);\n    } else {\n      setLoading(false);\n    }\n  }, [checkToken]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Якщо токен відсутній або користувач не залогінений, перенаправляємо на логін\n  if (!(user !== null && user !== void 0 && user.token)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 16\n    }, this);\n  }\n  return children;\n}\n_s(PrivateRoute, \"eUYs/99wrAZjVULJ3+fM+sRhE/I=\");\n_c = PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["useContext","useEffect","useState","Navigate","UserContext","jsxDEV","_jsxDEV","PrivateRoute","children","_s","user","checkToken","loading","setLoading","fileName","_jsxFileName","lineNumber","columnNumber","token","to","_c","$RefreshReg$"],"sources":["D:/Program Files/WebstormProjects/soil_scout/web/src/utils/PrivateRoute.js"],"sourcesContent":["// src/components/PrivateRoute.jsx\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { UserContext } from \"../contexts/UserContext\";\r\n\r\nexport default function PrivateRoute({ children }) {\r\n    const { user, checkToken } = useContext(UserContext);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Перевіряємо токен на кожен рендер\r\n    useEffect(() => {\r\n        if (checkToken()) {\r\n            setLoading(false);\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, [checkToken]);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    // Якщо токен відсутній або користувач не залогінений, перенаправляємо на логін\r\n    if (!user?.token) {\r\n        return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    return children;\r\n}\r\n"],"mappings":";;AAAA;AACA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,WAAW,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,eAAe,SAASC,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC/C,MAAM;IAAEC,IAAI;IAAEC;EAAW,CAAC,GAAGX,UAAU,CAACI,WAAW,CAAC;EACpD,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;;EAE5C;EACAD,SAAS,CAAC,MAAM;IACZ,IAAIU,UAAU,CAAC,CAAC,EAAE;MACdE,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,MAAM;MACHA,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACF,UAAU,CAAC,CAAC;EAEhB,IAAIC,OAAO,EAAE;IACT,oBAAON,OAAA;MAAAE,QAAA,EAAK;IAAU;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAChC;;EAEA;EACA,IAAI,EAACP,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEQ,KAAK,GAAE;IACd,oBAAOZ,OAAA,CAACH,QAAQ;MAACgB,EAAE,EAAC;IAAQ;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACnC;EAEA,OAAOT,QAAQ;AACnB;AAACC,EAAA,CAvBuBF,YAAY;AAAAa,EAAA,GAAZb,YAAY;AAAA,IAAAa,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}