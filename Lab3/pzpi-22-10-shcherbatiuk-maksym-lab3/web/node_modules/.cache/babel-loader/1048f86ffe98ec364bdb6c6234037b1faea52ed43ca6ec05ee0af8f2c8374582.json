{"ast":null,"code":"var _jsxFileName = \"D:\\\\Program Files\\\\WebstormProjects\\\\soil_scout\\\\web\\\\src\\\\components\\\\AnalyticsField.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport Chartist from 'chartist'; // Імпортуємо Chartist як за замовчуванням\nimport 'chartist/dist/chartist.css';\nimport api from '../utils/api';\nimport { LineChart, Svg } from 'chartist';\n\n// ✅ selectedFieldId пропс не потрібен, використовуємо id з useParams\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnalyticsField = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // ✅ Отримуємо ID з URL\n\n  const [timeRange, setTimeRange] = useState('7d');\n  const [chartData, setChartData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const chartContainerRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n\n  // ✅ Функція selectField - приймає fieldId, використовує його для логування та в тілі запиту\n  const selectField = async fieldId => {\n    if (!fieldId) {\n      console.log('[AnalyticsField:selectField] Called with no valid ID, skipping API call.');\n      return;\n    }\n    try {\n      console.log(`[AnalyticsField:selectField] Відправка запиту на select поля ID: ${fieldId}`);\n      // ✅ Використовуємо fieldId з аргумента функції в тілі запиту\n      await api.post('/fields/select/', {\n        fieldId: fieldId\n      });\n      console.log(`[AnalyticsField:selectField] Поле ID ${fieldId} успішно вибрано.`);\n    } catch (err) {\n      console.error(`[AnalyticsField:selectField] Не вдалося вибрати поле ID ${fieldId}:`, err);\n      // Можна додати обробку помибок для користувача\n    }\n  };\n\n  // ✅ Функція deselectField - приймає fieldId, використовує його для логування та в тілі запиту\n  const deselectField = async fieldId => {\n    if (!fieldId) {\n      console.log('[AnalyticsField:deselectField] Called with no valid ID, skipping API call.');\n      return;\n    }\n    try {\n      console.log(`[AnalyticsField:deselectField] Відправка запиту на deselect поля ID: ${fieldId}`);\n      // ✅ Використовуємо fieldId з аргумента функції в тілі запиту\n      await api.post('/fields/deselect/', {\n        fieldId: fieldId\n      });\n      console.log(`[AnalyticsField:deselectField] Поле ID ${fieldId} успішно деселектнуто.`);\n    } catch (err) {\n      console.error(`[AnalyticsField:deselectField] Не вдалося деселектнути поле ID ${fieldId}:`, err);\n      // Можна додати обробку помилок для користувача\n    }\n  };\n\n  // ✅ Ефект для завантаження даних, вибору поля та очищення\n  // ✅ Залежить ВІД ID З URL та timeRange\n  useEffect(() => {\n    // ✅ Додаємо лог на початку ефекту\n    console.log(`[AnalyticsField:useEffect:data] Effect running for ID: ${id}, timeRange: ${timeRange}`);\n\n    // Перевіряємо, чи є ID поля з URL\n    if (!id) {\n      console.log('[AnalyticsField:useEffect:data] No ID in URL, clearing state.');\n      setChartData(null);\n      setError(null);\n      setIsLoading(false);\n      // Cleanup з попереднього рендера спрацює (якщо був ID)\n      return;\n    }\n\n    // ✅ Викликаємо selectField з ID з URL\n    selectField(id); // Передаємо ID, щоб функція знала, який лог виводити\n\n    // Завантаження даних графіка для КОНКРЕТНОГО поля та діапазону\n    setIsLoading(true);\n    setError(null); // Скидаємо попередні помилки\n    // ✅ Правильний URL для запиту даних конкретного поля\n    const apiUrl = `/field-measurements/chart/${timeRange}`;\n    console.log(`[AnalyticsField:useEffect:data] Fetching chart data from: ${apiUrl}`);\n    api.get(apiUrl).then(response => {\n      console.log('[AnalyticsField:useEffect:data] Received chart data:', response.data);\n      // Логіка трансформації даних залишається без змін\n      const rawData = response.data;\n      if (!Array.isArray(rawData)) {\n        setChartData(null);\n        setError('Некоректна відповідь від сервера - очікувався масив даних сенсорів.');\n        setIsLoading(false);\n        console.error('[AnalyticsField:useEffect:data] Unexpected API response format:', rawData);\n        return;\n      }\n\n      // --- Логіка трансформації даних ---\n      const uniqueTimestampsSet = new Set();\n      rawData.forEach(sensor => {\n        if (sensor && Array.isArray(sensor.data)) {\n          sensor.data.forEach(entry => {\n            if (entry && entry.timestamp) {\n              uniqueTimestampsSet.add(entry.timestamp);\n            }\n          });\n        }\n      });\n      const labels = Array.from(uniqueTimestampsSet).sort();\n      const series = rawData.map(sensor => {\n        const timestampToValueMap = new Map();\n        if (sensor && Array.isArray(sensor.data)) {\n          sensor.data.forEach(entry => {\n            if (entry && entry.timestamp && entry.value !== undefined) {\n              timestampToValueMap.set(entry.timestamp, entry.value);\n            }\n          });\n        }\n        const seriesData = labels.map(timestamp => {\n          var _timestampToValueMap$;\n          return (_timestampToValueMap$ = timestampToValueMap.get(timestamp)) !== null && _timestampToValueMap$ !== void 0 ? _timestampToValueMap$ : null;\n        });\n        return {\n          name: sensor.sensorType || `Sensor ${sensor.sensorId}`,\n          data: seriesData\n        };\n      });\n      const chartistSeriesData = series.map(s => s.data);\n      // --- Кінець логіки трансформації ---\n\n      if (labels.length === 0 || chartistSeriesData.every(seriesData => seriesData.every(point => point === null))) {\n        console.log('[AnalyticsField:useEffect:data] Transformed data is empty.');\n        setChartData(null);\n      } else {\n        setChartData({\n          labels,\n          series: chartistSeriesData\n        });\n      }\n      setIsLoading(false);\n    }).catch(err => {\n      console.error('[AnalyticsField:useEffect:data] Error fetching chart data:', err);\n      setError('Не вдалося завантажити дані графіка.');\n      setChartData(null);\n      setIsLoading(false);\n    });\n\n    // ✅ Cleanup функція: деселектує поле, коли компонент демонтується або ID змінюється\n    const fieldIdToDeselect = id; // Запам'ятовуємо ID з цього запуску ефекту\n    return () => {\n      console.log(`[AnalyticsField:useEffect:data] Cleanup running for ID: ${fieldIdToDeselect}`);\n      if (fieldIdToDeselect) {\n        deselectField(fieldIdToDeselect); // Викликаємо deselectField з цим ID\n      }\n    };\n  }, [id, timeRange]); // ✅ Залежності: ефект перезапускається при зміні id з URL або timeRange\n\n  // ✅ Ефект для рендерингу графіка (залишається майже без змін, залежить від chartData)\n  useEffect(() => {\n    console.log('[AnalyticsField:useEffect:chart] Chart rendering effect running. ChartData:', chartData ? 'present' : 'null', 'Container:', chartContainerRef.current ? 'present' : 'null', 'Loading:', isLoading, 'Error:', error);\n    const hasPlottableData = chartData && Array.isArray(chartData.labels) && chartData.labels.length > 0 && Array.isArray(chartData.series) && chartData.series.length > 0 && chartData.series.some(seriesData => Array.isArray(seriesData) && seriesData.some(point => point !== null && point !== undefined));\n    if (hasPlottableData && chartContainerRef.current && !isLoading && !error) {\n      console.log('[AnalyticsField:useEffect:chart] Drawing chart...');\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.detach();\n        chartInstanceRef.current = null;\n      }\n      const options = {\n        low: 0,\n        fullWidth: true,\n        chartPadding: {\n          right: 40\n        },\n        axisX: {\n          labelOffset: {\n            x: 0,\n            y: 5\n          },\n          labelInterpolationFnc: function (value, index) {\n            try {\n              const date = new Date(value);\n              if (isNaN(date.getTime())) {\n                return value;\n              }\n              return `${date.toLocaleDateString()} ${date.toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })}`;\n            } catch (e) {\n              console.error(\"Failed to format date:\", value, e);\n              return value;\n            }\n          }\n        },\n        axisY: {\n          labelInterpolationFnc: function (value) {\n            return value;\n          },\n          offset: 40\n        }\n      };\n      chartInstanceRef.current = new LineChart(\n      // Use LineChart\n      chartContainerRef.current, chartData, options);\n      chartInstanceRef.current.on('draw', function (data) {\n        if (data.type === 'line' || data.type === 'area') {\n          data.element.animate({\n            d: {\n              begin: 1000 * data.index,\n              dur: 1000,\n              from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n              to: data.path.clone().stringify(),\n              easing: Svg.Easing.easeOutQuint // Use Svg\n            }\n          });\n        }\n      });\n    } else if (chartInstanceRef.current) {\n      console.log('[AnalyticsField:useEffect:chart] Data not plottable or state indicates no chart, destroying chart instance.');\n      chartInstanceRef.current.detach();\n      chartInstanceRef.current = null;\n    }\n    return () => {\n      console.log('[AnalyticsField:useEffect:chart] Chart rendering effect cleanup running.');\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.detach();\n        chartInstanceRef.current = null;\n      }\n    };\n  }, [chartData, isLoading, error, chartContainerRef.current]); // ✅ Dependencies\n\n  const handleTimeRangeChange = range => {\n    setTimeRange(range);\n  };\n\n  // ✅ Лог рендерингу компонента для діагностики\n  console.log(`[AnalyticsField] Component rendering. ID from useParams: ${id}, isLoading: ${isLoading}, error: ${error}, chartData: ${chartData ? 'present' : 'null/empty'}`);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main-content\",\n    className: \"w-full flex-1\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-2/3 p-6 xl:max-w-6xl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-full lg:max-w-3xl xl:max-w-5xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-bold text-black\",\n              children: [\"\\u0413\\u0440\\u0430\\u0444\\u0456\\u043A \\u0432\\u0438\\u043C\\u0456\\u0440\\u044E\\u0432\\u0430\\u043D\\u044C \", id ? `для поля ID: ${id}` : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-4 mt-2\",\n              children: ['7d', '6m', '1y'].map(range => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleTimeRangeChange(range),\n                className: `px-3 py-1 text-sm rounded ${timeRange === range ? 'bg-indigo-500 text-white' : 'bg-gray-300 text-gray-800'}`,\n                children: [range === '7d' && '7 днів', range === '6m' && '6 місяців', range === '1y' && '1 рік']\n              }, range, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ct-chart ct-golden-section\",\n              id: \"chart1\",\n              ref: chartContainerRef,\n              children: [!id &&\n              /*#__PURE__*/\n              // Check if ID is available from URL\n              _jsxDEV(\"p\", {\n                className: \"text-center text-gray-500\",\n                children: \"\\u0411\\u0443\\u0434\\u044C \\u043B\\u0430\\u0441\\u043A\\u0430, \\u043E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u043F\\u043E\\u043B\\u0435 \\u0437\\u0456 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443 \\u043B\\u0456\\u0432\\u043E\\u0440\\u0443\\u0447.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 37\n              }, this), id && isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center text-gray-500\",\n                children: \"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F \\u0434\\u0430\\u043D\\u0438\\u0445...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 37\n              }, this), id && error && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center text-red-500\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 37\n              }, this), id && !isLoading && !error && (!chartData || Array.isArray(chartData.series) && chartData.series.every(seriesData => Array.isArray(seriesData) && seriesData.every(point => point === null)) || Array.isArray(chartData.labels) && chartData.labels.length === 0) && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center text-gray-500\",\n                children: \"\\u0414\\u0430\\u043D\\u0456 \\u0434\\u043B\\u044F \\u043E\\u0431\\u0440\\u0430\\u043D\\u043E\\u0433\\u043E \\u043F\\u043E\\u043B\\u044F \\u0437\\u0430 \\u0446\\u0435\\u0439 \\u043F\\u0435\\u0440\\u0456\\u043E\\u0434 \\u043D\\u0435 \\u0437\\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0456.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-bold text-black\",\n                children: \"Table\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full p-5 text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left text-blue-900\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left text-blue-900\",\n                      children: \"Side\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left text-blue-900\",\n                      children: \"Role\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Obi Wan Kenobi\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Light\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Jedi\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Greedo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"South\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Scumbag\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Darth Vader\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Dark\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Sith\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"py-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: \"See More issues...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-1/3 p-6 xl:max-w-4xl border-l-1 border-gray-300\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-sm lg:max-w-3xl xl:max-w-5xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-bold text-black\",\n              children: \"Graph 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ct-chart ct-golden-section\",\n              id: \"chart2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-bold text-black\",\n              children: \"Graph 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ct-chart ct-golden-section\",\n              id: \"chart3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-bold text-black\",\n              children: \"Graph 4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ct-chart ct-golden-section\",\n              id: \"chart4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-bold text-black\",\n                children: \"Template\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 9\n  }, this);\n};\n_s(AnalyticsField, \"wMNpjYejAGk5QGiYHXbUE2Uqp3g=\", false, function () {\n  return [useParams];\n});\n_c = AnalyticsField;\nexport default AnalyticsField;\nvar _c;\n$RefreshReg$(_c, \"AnalyticsField\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useParams","Chartist","api","LineChart","Svg","jsxDEV","_jsxDEV","AnalyticsField","_s","id","timeRange","setTimeRange","chartData","setChartData","isLoading","setIsLoading","error","setError","chartContainerRef","chartInstanceRef","selectField","fieldId","console","log","post","err","deselectField","apiUrl","get","then","response","data","rawData","Array","isArray","uniqueTimestampsSet","Set","forEach","sensor","entry","timestamp","add","labels","from","sort","series","map","timestampToValueMap","Map","value","undefined","set","seriesData","_timestampToValueMap$","name","sensorType","sensorId","chartistSeriesData","s","length","every","point","catch","fieldIdToDeselect","current","hasPlottableData","some","detach","options","low","fullWidth","chartPadding","right","axisX","labelOffset","x","y","labelInterpolationFnc","index","date","Date","isNaN","getTime","toLocaleDateString","toLocaleTimeString","hour","minute","e","axisY","offset","on","type","element","animate","d","begin","dur","path","clone","scale","translate","chartRect","height","stringify","to","easing","Easing","easeOutQuint","handleTimeRangeChange","range","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","href","_c","$RefreshReg$"],"sources":["D:/Program Files/WebstormProjects/soil_scout/web/src/components/AnalyticsField.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Chartist from 'chartist'; // Імпортуємо Chartist як за замовчуванням\r\nimport 'chartist/dist/chartist.css';\r\n\r\nimport api from '../utils/api';\r\n\r\n\r\nimport { LineChart, Svg } from 'chartist';\r\n\r\n\r\n\r\n\r\n\r\n// ✅ selectedFieldId пропс не потрібен, використовуємо id з useParams\r\nconst AnalyticsField = () => {\r\n    const { id } = useParams(); // ✅ Отримуємо ID з URL\r\n\r\n    const [timeRange, setTimeRange] = useState('7d');\r\n    const [chartData, setChartData] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const chartContainerRef = useRef(null);\r\n    const chartInstanceRef = useRef(null);\r\n\r\n    // ✅ Функція selectField - приймає fieldId, використовує його для логування та в тілі запиту\r\n    const selectField = async (fieldId) => {\r\n        if (!fieldId) {\r\n            console.log('[AnalyticsField:selectField] Called with no valid ID, skipping API call.');\r\n            return;\r\n        }\r\n        try {\r\n            console.log(`[AnalyticsField:selectField] Відправка запиту на select поля ID: ${fieldId}`);\r\n            // ✅ Використовуємо fieldId з аргумента функції в тілі запиту\r\n            await api.post('/fields/select/', { fieldId: fieldId });\r\n            console.log(`[AnalyticsField:selectField] Поле ID ${fieldId} успішно вибрано.`);\r\n        } catch (err) {\r\n            console.error(`[AnalyticsField:selectField] Не вдалося вибрати поле ID ${fieldId}:`, err);\r\n            // Можна додати обробку помибок для користувача\r\n        }\r\n    };\r\n\r\n    // ✅ Функція deselectField - приймає fieldId, використовує його для логування та в тілі запиту\r\n    const deselectField = async (fieldId) => {\r\n        if (!fieldId) {\r\n            console.log('[AnalyticsField:deselectField] Called with no valid ID, skipping API call.');\r\n            return;\r\n        }\r\n        try {\r\n            console.log(`[AnalyticsField:deselectField] Відправка запиту на deselect поля ID: ${fieldId}`);\r\n            // ✅ Використовуємо fieldId з аргумента функції в тілі запиту\r\n            await api.post('/fields/deselect/', { fieldId: fieldId });\r\n            console.log(`[AnalyticsField:deselectField] Поле ID ${fieldId} успішно деселектнуто.`);\r\n        } catch (err) {\r\n            console.error(`[AnalyticsField:deselectField] Не вдалося деселектнути поле ID ${fieldId}:`, err);\r\n            // Можна додати обробку помилок для користувача\r\n        }\r\n    };\r\n\r\n\r\n    // ✅ Ефект для завантаження даних, вибору поля та очищення\r\n    // ✅ Залежить ВІД ID З URL та timeRange\r\n    useEffect(() => {\r\n        // ✅ Додаємо лог на початку ефекту\r\n        console.log(`[AnalyticsField:useEffect:data] Effect running for ID: ${id}, timeRange: ${timeRange}`);\r\n\r\n        // Перевіряємо, чи є ID поля з URL\r\n        if (!id) {\r\n            console.log('[AnalyticsField:useEffect:data] No ID in URL, clearing state.');\r\n            setChartData(null);\r\n            setError(null);\r\n            setIsLoading(false);\r\n            // Cleanup з попереднього рендера спрацює (якщо був ID)\r\n            return;\r\n        }\r\n\r\n        // ✅ Викликаємо selectField з ID з URL\r\n        selectField(id); // Передаємо ID, щоб функція знала, який лог виводити\r\n\r\n        // Завантаження даних графіка для КОНКРЕТНОГО поля та діапазону\r\n        setIsLoading(true);\r\n        setError(null); // Скидаємо попередні помилки\r\n        // ✅ Правильний URL для запиту даних конкретного поля\r\n        const apiUrl = `/field-measurements/chart/${timeRange}`;\r\n        console.log(`[AnalyticsField:useEffect:data] Fetching chart data from: ${apiUrl}`);\r\n\r\n\r\n        api.get(apiUrl)\r\n            .then(response => {\r\n                console.log('[AnalyticsField:useEffect:data] Received chart data:', response.data);\r\n                // Логіка трансформації даних залишається без змін\r\n                const rawData = response.data;\r\n\r\n                if (!Array.isArray(rawData)) {\r\n                    setChartData(null);\r\n                    setError('Некоректна відповідь від сервера - очікувався масив даних сенсорів.');\r\n                    setIsLoading(false);\r\n                    console.error('[AnalyticsField:useEffect:data] Unexpected API response format:', rawData);\r\n                    return;\r\n                }\r\n\r\n                // --- Логіка трансформації даних ---\r\n                const uniqueTimestampsSet = new Set();\r\n                rawData.forEach(sensor => {\r\n                    if (sensor && Array.isArray(sensor.data)) {\r\n                        sensor.data.forEach(entry => {\r\n                            if (entry && entry.timestamp) {\r\n                                uniqueTimestampsSet.add(entry.timestamp);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                const labels = Array.from(uniqueTimestampsSet).sort();\r\n\r\n                const series = rawData.map(sensor => {\r\n                    const timestampToValueMap = new Map();\r\n                    if (sensor && Array.isArray(sensor.data)) {\r\n                        sensor.data.forEach(entry => {\r\n                            if (entry && entry.timestamp && entry.value !== undefined) {\r\n                                timestampToValueMap.set(entry.timestamp, entry.value);\r\n                            }\r\n                        });\r\n                    }\r\n                    const seriesData = labels.map(timestamp => timestampToValueMap.get(timestamp) ?? null);\r\n                    return {\r\n                        name: sensor.sensorType || `Sensor ${sensor.sensorId}`,\r\n                        data: seriesData\r\n                    };\r\n                });\r\n                const chartistSeriesData = series.map(s => s.data);\r\n                // --- Кінець логіки трансформації ---\r\n\r\n                if (labels.length === 0 || chartistSeriesData.every(seriesData => seriesData.every(point => point === null))) {\r\n                    console.log('[AnalyticsField:useEffect:data] Transformed data is empty.');\r\n                    setChartData(null);\r\n                } else {\r\n                    setChartData({ labels, series: chartistSeriesData });\r\n                }\r\n\r\n                setIsLoading(false);\r\n            })\r\n            .catch(err => {\r\n                console.error('[AnalyticsField:useEffect:data] Error fetching chart data:', err);\r\n                setError('Не вдалося завантажити дані графіка.');\r\n                setChartData(null);\r\n                setIsLoading(false);\r\n            });\r\n\r\n        // ✅ Cleanup функція: деселектує поле, коли компонент демонтується або ID змінюється\r\n        const fieldIdToDeselect = id; // Запам'ятовуємо ID з цього запуску ефекту\r\n        return () => {\r\n            console.log(`[AnalyticsField:useEffect:data] Cleanup running for ID: ${fieldIdToDeselect}`);\r\n            if (fieldIdToDeselect) {\r\n                deselectField(fieldIdToDeselect); // Викликаємо deselectField з цим ID\r\n            }\r\n        };\r\n\r\n    }, [id, timeRange]); // ✅ Залежності: ефект перезапускається при зміні id з URL або timeRange\r\n\r\n\r\n    // ✅ Ефект для рендерингу графіка (залишається майже без змін, залежить від chartData)\r\n    useEffect(() => {\r\n        console.log('[AnalyticsField:useEffect:chart] Chart rendering effect running. ChartData:', chartData ? 'present' : 'null', 'Container:', chartContainerRef.current ? 'present' : 'null', 'Loading:', isLoading, 'Error:', error);\r\n\r\n        const hasPlottableData = chartData &&\r\n            Array.isArray(chartData.labels) && chartData.labels.length > 0 &&\r\n            Array.isArray(chartData.series) && chartData.series.length > 0 &&\r\n            chartData.series.some(seriesData => Array.isArray(seriesData) && seriesData.some(point => point !== null && point !== undefined));\r\n\r\n\r\n        if (hasPlottableData && chartContainerRef.current && !isLoading && !error) {\r\n            console.log('[AnalyticsField:useEffect:chart] Drawing chart...');\r\n            if (chartInstanceRef.current) {\r\n                chartInstanceRef.current.detach();\r\n                chartInstanceRef.current = null;\r\n            }\r\n\r\n            const options = {\r\n                low: 0,\r\n                fullWidth: true,\r\n                chartPadding: { right: 40 },\r\n                axisX: {\r\n                    labelOffset: { x: 0, y: 5 },\r\n                    labelInterpolationFnc: function(value, index) {\r\n                        try {\r\n                            const date = new Date(value);\r\n                            if (isNaN(date.getTime())) {\r\n                                return value;\r\n                            }\r\n                            return `${date.toLocaleDateString()} ${date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}`;\r\n                        } catch (e) {\r\n                            console.error(\"Failed to format date:\", value, e);\r\n                            return value;\r\n                        }\r\n                    },\r\n                },\r\n                axisY: {\r\n                    labelInterpolationFnc: function(value) { return value; },\r\n                    offset: 40\r\n                }\r\n            };\r\n\r\n            chartInstanceRef.current = new LineChart( // Use LineChart\r\n                chartContainerRef.current,\r\n                chartData,\r\n                options\r\n            );\r\n\r\n            chartInstanceRef.current.on('draw', function(data) {\r\n                if (data.type === 'line' || data.type === 'area') {\r\n                    data.element.animate({\r\n                        d: {\r\n                            begin: 1000 * data.index,\r\n                            dur: 1000,\r\n                            from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\r\n                            to: data.path.clone().stringify(),\r\n                            easing: Svg.Easing.easeOutQuint // Use Svg\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n        } else if (chartInstanceRef.current) {\r\n            console.log('[AnalyticsField:useEffect:chart] Data not plottable or state indicates no chart, destroying chart instance.');\r\n            chartInstanceRef.current.detach();\r\n            chartInstanceRef.current = null;\r\n        }\r\n\r\n        return () => {\r\n            console.log('[AnalyticsField:useEffect:chart] Chart rendering effect cleanup running.');\r\n            if (chartInstanceRef.current) {\r\n                chartInstanceRef.current.detach();\r\n                chartInstanceRef.current = null;\r\n            }\r\n        };\r\n\r\n    }, [chartData, isLoading, error, chartContainerRef.current]); // ✅ Dependencies\r\n\r\n    const handleTimeRangeChange = (range) => {\r\n        setTimeRange(range);\r\n    };\r\n\r\n    // ✅ Лог рендерингу компонента для діагностики\r\n    console.log(`[AnalyticsField] Component rendering. ID from useParams: ${id}, isLoading: ${isLoading}, error: ${error}, chartData: ${chartData ? 'present' : 'null/empty'}`);\r\n\r\n\r\n    return (\r\n        <div id=\"main-content\" className=\"w-full flex-1\">\r\n            <div className=\"flex flex-wrap\">\r\n                <div className=\"w-full xl:w-2/3 p-6 xl:max-w-6xl\">\r\n                    <div className=\"max-w-full lg:max-w-3xl xl:max-w-5xl\">\r\n                        <div className=\"border-b p-3\">\r\n                            {/* Відображаємо ID поля з URL */}\r\n                            <h5 className=\"font-bold text-black\">Графік вимірювань {id ? `для поля ID: ${id}` : ''}</h5>\r\n                            {/* Кнопки вибору масштабування */}\r\n                            <div className=\"flex space-x-4 mt-2\">\r\n                                {['7d', '6m', '1y'].map(range => (\r\n                                    <button\r\n                                        key={range}\r\n                                        onClick={() => handleTimeRangeChange(range)}\r\n                                        className={`px-3 py-1 text-sm rounded ${timeRange === range\r\n                                            ? 'bg-indigo-500 text-white'\r\n                                            : 'bg-gray-300 text-gray-800'\r\n                                        }`}\r\n                                    >\r\n                                        {range === '7d' && '7 днів'}\r\n                                        {range === '6m' && '6 місяців'}\r\n                                        {range === '1y' && '1 рік'}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"p-5\">\r\n                            {/* Assign the ref to the chart container div */}\r\n                            <div className=\"ct-chart ct-golden-section\" id=\"chart1\" ref={chartContainerRef}>\r\n                                {/* Show messages conditionally. Rely on 'id' from useParams */}\r\n                                {!id && ( // Check if ID is available from URL\r\n                                    <p className=\"text-center text-gray-500\">\r\n                                        Будь ласка, оберіть поле зі списку ліворуч.\r\n                                    </p>\r\n                                )}\r\n                                {/* Only show loading/error if an ID is available */}\r\n                                {id && isLoading && (\r\n                                    <p className=\"text-center text-gray-500\">Завантаження даних...</p>\r\n                                )}\r\n                                {id && error && (\r\n                                    <p className=\"text-center text-red-500\">{error}</p>\r\n                                )}\r\n                                {/* Show 'no data' message if ID is available, not loading, no error, and data is empty/null */}\r\n                                {id && !isLoading && !error && (!chartData || (Array.isArray(chartData.series) && chartData.series.every(seriesData => Array.isArray(seriesData) && seriesData.every(point => point === null))) || (Array.isArray(chartData.labels) && chartData.labels.length === 0)) && (\r\n                                    <p className=\"text-center text-gray-500\">Дані для обраного поля за цей період не знайдені.</p>\r\n                                )}\r\n                                {/* The Chartist graph will be rendered *into* this div */}\r\n                            </div>\r\n                        </div>\r\n                        {/*/Card для графіка*/}\r\n\r\n                        {/* Table Card - Keeping as is for now */}\r\n                        <div className=\"p-3\">\r\n                            <div className=\"border-b p-3\">\r\n                                <h5 className=\"font-bold text-black\">Table</h5>\r\n                            </div>\r\n                            <div className=\"p-5\">\r\n                                <table className=\"w-full p-5 text-gray-700\">\r\n                                    <thead>\r\n                                    <tr>\r\n                                        <th className=\"text-left text-blue-900\">Name</th>\r\n                                        <th className=\"text-left text-blue-900\">Side</th>\r\n                                        <th className=\"text-left text-blue-900\">Role</th>\r\n                                    </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                    <tr>\r\n                                        <td>Obi Wan Kenobi</td>\r\n                                        <td>Light</td>\r\n                                        <td>Jedi</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>Greedo</td>\r\n                                        <td>South</td>\r\n                                        <td>Scumbag</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>Darth Vader</td>\r\n                                        <td>Dark</td>\r\n                                        <td>Sith</td>\r\n                                    </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <p className=\"py-2\"><a href=\"#\">See More issues...</a></p>\r\n                            </div>\r\n                        </div>\r\n                        {/*/table Card*/}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Second Column - Kept from previous structure, but potentially empty/unused */}\r\n                <div className=\"w-full xl:w-1/3 p-6 xl:max-w-4xl border-l-1 border-gray-300\">\r\n\r\n                    {/* \"Контейнер\" для графіків*/}\r\n                    <div className=\"max-w-sm lg:max-w-3xl xl:max-w-5xl\">\r\n\r\n                        {/*Graph Card*/}\r\n                        <div className=\"border-b p-3\">\r\n                            <h5 className=\"font-bold text-black\">Graph 2</h5>\r\n                        </div>\r\n                        <div className=\"p-5\">\r\n                            <div className=\"ct-chart ct-golden-section\" id=\"chart2\"></div>\r\n                        </div>\r\n                        {/*/Card для графіка*/}\r\n\r\n                        {/*Graph Card*/}\r\n                        <div className=\"border-b p-3\">\r\n                            <h5 className=\"font-bold text-black\">Graph 3</h5>\r\n                        </div>\r\n                        <div className=\"p-5\">\r\n                            <div className=\"ct-chart ct-golden-section\" id=\"chart3\"></div>\r\n                        </div>\r\n                        {/*/Card для графіка*/}\r\n\r\n                        {/*Graph Card*/}\r\n                        <div className=\"border-b p-3\">\r\n                            <h5 className=\"font-bold text-black\">Graph 4</h5>\r\n                        </div>\r\n                        <div className=\"p-5\">\r\n                            <div className=\"ct-chart ct-golden-section\" id=\"chart4\"></div>\r\n                        </div>\r\n                        {/*/Card для графіка*/}\r\n\r\n                        {/*Template Card - Keeping as is */}\r\n                        <div className=\"p-3\">\r\n                            <div className=\"border-b p-3\">\r\n                                <h5 className=\"font-bold text-black\">Template</h5>\r\n                            </div>\r\n                            <div className=\"p-5\">\r\n\r\n                            </div>\r\n                        </div>\r\n                        {/*/Template Card*/}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnalyticsField;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}